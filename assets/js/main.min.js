var rowList="",sortButton=(document.querySelector(".jsFilter").addEventListener("click",function(){document.querySelector(".filter-menu").classList.toggle("active")}),document.querySelector(".grid").addEventListener("click",function(){document.querySelector(".list").classList.remove("active"),document.querySelector(".grid").classList.add("active"),document.querySelector(".products-area-wrapper").classList.add("gridView"),document.querySelector(".products-area-wrapper").classList.remove("tableView")}),document.querySelector(".list").addEventListener("click",function(){document.querySelector(".list").classList.add("active"),document.querySelector(".grid").classList.remove("active"),document.querySelector(".products-area-wrapper").classList.remove("gridView"),document.querySelector(".products-area-wrapper").classList.add("tableView")}),document.querySelectorAll(".sort-button")),modeSwitch=(sortButton.forEach(e=>e.addEventListener("click",function(){sortBy(brandlist,"brand","DESC")})),document.querySelector(".mode-switch")),setServerName=(modeSwitch.addEventListener("click",function(){document.documentElement.classList.toggle("light"),modeSwitch.classList.toggle("active")}),"local"),link="",serverTab=document.querySelectorAll(".server-tab");function loadTable(e,t){link=`https://${e.sublink}.kepler.local.sykes.io`;var c=`${link="local"!=setServerName?`https://${e.sublink}.${setServerName}.staging.cottage-search.com`:link}/images/white_labels/${e.sublink}_favicon.png`;checkImageState(c=void 0!==e.favicon?link+"/"+e.favicon:c,e.sublink),rowList+=`
            <div class="products-row" data-link="${link}
                <button class="cell-more-button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="feather feather-more-vertical">
                        <circle cx="12" cy="12" r="1" />
                        <circle cx="12" cy="5" r="1" />
                        <circle cx="12" cy="19" r="1" />
                    </svg>
                </button>
                <div class="product-cell image">
                    <img src="${c}"
                        alt="${e.sublink}">
                    <span>${e.brand}</span>
                </div>
                <div class="product-cell code"><span class="cell-label">Code:</span>${e.code}</div>
                <div class="product-cell status-cell">
                    <span class="cell-label">Status:</span>
                    <span class="status disabled" id="${e.sublink}">Offline</span>
                </div>
                <div class="product-cell sublink"><span class="cell-label">Sublink:</span>${e.sublink}</div>
                <div class="product-cell note"><span class="cell-label">Note:</span>${e.notes}</div>
            </div> `}function checkImageState(e,t){var c=new Image;c.src=e,c.onload=function(){setTimeout(function(){(rowId=document.querySelector("#"+t)).classList.remove("disabled"),rowId.classList.add("active"),rowId.innerHTML="Active"},3e3)},c.onerror=function(){console.log("Image not available.")}}serverTab.forEach(e=>e.addEventListener("click",function(){serverTab.forEach(e=>e.classList.remove("active")),this.classList.add("active"),setServerName=this.dataset.server,brandlist.forEach(loadTable)})),brandlist.forEach(loadTable),document.querySelector(".products-header").insertAdjacentHTML("afterend",rowList),document.querySelectorAll(".products-row").forEach(e=>e.addEventListener("click",function(){window.open(e.dataset.link,"_blank")})),document.querySelectorAll("[data-sidebar-item]").forEach(e=>e.addEventListener("click",function(){document.querySelectorAll(".sidebar-list-item").forEach(e=>{e.classList.remove("active")}),e.parentElement.classList.add("active"),document.querySelector(".staging-environment").classList.remove("is-hidden")}));var cards=document.querySelectorAll(".products-row");function liveSearch(){for(var e=document.getElementById("searchbox").value,t=0;t<cards.length;t++)cards[t].textContent.toLowerCase().includes(e.toLowerCase())?cards[t].classList.remove("is-hidden"):cards[t].classList.add("is-hidden")}let typingTimer,typeInterval=500,searchInput=document.getElementById("searchbox");function sortBy(e,c,t){"ASC"==t?e.sort((e,t)=>e[c]>t[c]?1:t[c]>e[c]?-1:0):e.sort((e,t)=>e[c]>t[c]?-1:1)}searchInput.addEventListener("keyup",()=>{clearTimeout(typingTimer),typingTimer=setTimeout(liveSearch,typeInterval)});